!function e(t,r,s){function a(o,i){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!i&&l)return l(o,!0);if(n)return n(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){return a(t[o][1][e]||e)}),c,c.exports,e,t,r,s)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<s.length;o++)a(s[o]);return a}({1:[function(e,t,r){var s=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function i(e,t,r,s){var a=t&&t.prototype instanceof c?t:c,n=Object.create(a.prototype),o=new R(s||[]);return n._invoke=function(e,t,r){var s="suspendedStart";return function(a,n){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===a)throw n;return M()}for(r.method=a,r.arg=n;;){var o=r.delegate;if(o){var i=b(o,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===s)throw s="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s="executing";var c=l(e,t,r);if("normal"===c.type){if(s=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(s="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),n}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var p={};function c(){}function u(){}function d(){}var h={};h[a]=function(){return this};var m=Object.getPrototypeOf,f=m&&m(m(_([])));f&&f!==t&&r.call(f,a)&&(h=f);var y=d.prototype=c.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var s;this._invoke=function(a,n){function o(){return new t((function(s,o){!function s(a,n,o,i){var p=l(e[a],e,n);if("throw"!==p.type){var c=p.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){s("next",e,o,i)}),(function(e){s("throw",e,o,i)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return s("throw",e,o,i)}))}i(p.arg)}(a,n,s,o)}))}return s=s?s.then(o,o):o()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var s=l(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,p;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,n=function t(){for(;++s<e.length;)if(r.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:M}}function M(){return{value:void 0,done:!0}}return u.prototype=y.constructor=d,d.constructor=u,d[o]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(v.prototype),v.prototype[n]=function(){return this},e.AsyncIterator=v,e.async=function(t,r,s,a,n){void 0===n&&(n=Promise);var o=new v(i(t,r,s,a),n);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),y[o]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var s=t.pop();if(s in e)return r.value=s,r.done=!1,r}return r.done=!0,r}},e.values=_,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(r,s){return o.type="throw",o.arg=e,t.next=r,s&&(t.method="next",t.arg=void 0),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return s("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),l=r.call(n,"finallyLoc");if(i&&l){if(this.prev<n.catchLoc)return s(n.catchLoc,!0);if(this.prev<n.finallyLoc)return s(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return s(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return s(n.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var s=r.completion;if("throw"===s.type){var a=s.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=s}catch(e){Function("r","regeneratorRuntime = r")(s)}},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s,a=e("../Other/Commands"),n=(s=a)&&s.__esModule?s:{default:s};class o extends React.Component{constructor(e){super(e),this.messageList=React.createRef(),e.app.addMessage=e=>{this.addMessage(e)}}componentDidMount(){this.props.app.player.on("message",e=>{this.addMessage(e)})}render(){return React.createElement("div",null,React.createElement("div",{className:"play-messageList",ref:this.messageList}),React.createElement("input",{type:"text",className:"play-messageBox",onKeyUp:e=>{if(""!==e.target.value&&" "!==e.target.value&&(e.persist(),13===e.keyCode)){if(n.default.cmds.some(t=>e.target.value.startsWith(t)))return n.default.run(e.target.value,this.props.app),void(e.target.value="");e.persist(),this.props.app.player.send("message",{content:e.target.value.replace(/<\/?[^>]+(>|$)/g,""),sender:this.props.app.player.name}),e.target.value=""}}}))}addMessage(e){let t=e.content;console.log(e),t="system"===e.sender?`<span style="font-weight: bold; color: red">${e.content}</span>`:e.whisper?e.receiver===this.props.app.player.name?`<span style="font-weight: bold; color: green">Whisper from ${e.sender}: ${e.content}</span>:`:e.sender===this.props.app.player.name?`<span style="font-weight: bold; color: green">Whisper to ${e.receiver}:  ${e.content}</span>`:`<span style="font-weight: bold">${e.sender} is whispering to ${e.receiver}</span>`:`<span style="font-weight: bold">${e.sender}</span>: ${e.content}`;const r=document.createElement("p");r.innerHTML=t,this.messageList.current.appendChild(r),r.scrollIntoView()}}r.default=o},{"../Other/Commands":10}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends React.Component{constructor(e){super(e),this.state={players:[]}}render(){return React.createElement("div",{className:"play-graveyardBox"})}}r.default=s},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends React.Component{constructor(e){super(e),this.state={seconds:e.seconds}}componentDidMount(){const e=setInterval(()=>{0===this.state.seconds?clearInterval(e):this.setState(e=>({seconds:e.seconds-1}))},1e3)}render(){return React.createElement("span",null,"(",this.state.seconds,")")}}class a extends React.Component{constructor(e){super(e),this.state={phase:null}}componentDidMount(){this.props.app.player.on("lobbyInfo",e=>{e.phase&&("Day_1"===e.phase.name?(this.props.app.addMessage({content:"It's Day 1",sender:"system"}),e.phase.name="Day",this.setState({phase:e.phase})):(this.props.app.addMessage({content:`It's ${e.phase.name} ${e.phase.iters}`,sender:"system"}),this.setState({phase:e.phase})))}),this.props.app.player.on("Day_1",e=>{this.props.app.addMessage({content:"It's Day 1",sender:"system"}),e.name="Day",this.setState({phase:e})})}render(){return this.state.phase?React.createElement("div",{className:"play-time"},React.createElement("span",null,this.state.phase.name,"  ",this.state.phase.iters),React.createElement(s,{seconds:Math.round(this.state.phase.dur/1e3)})):""}}r.default=a},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class s extends React.Component{constructor(e){super(e)}render(){let e="black";return this.props.details.get(s.DISCONNECTED)?e="gray":this.props.details.get(s.ADMIN)?e="red":this.props.details.get(s.HOST)&&(e="green"),React.createElement("div",{className:"play-playerInPlayerList"},React.createElement("p",{style:{color:e,fontWeight:this.props.details.get(s.HOST)||this.props.details.get(s.ADMIN)||this.props.details.get(s.DISCONNECTED)?"bold":"none"}},this.props.number,". ",this.props.name),this.props.buttons&&this.props.buttons.map((e,t)=>e.onClick?React.createElement("button",{className:"play-actionButton",key:Math.random(),onClick:t=>e.onClick(t)},e.text):React.createElement("span",{className:"play-playerBadge",key:Math.random()},e.text)))}}s.DEAD=0,s.HOST=1,s.ADMIN=2,s.DISCONNECTED=3,s.TARGETS=4,s.TAREGT_SELF=5,s.TARGET_DEAD=6,s.CAN_FM=7,r.default=s},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){const t=[];let r=1;for(let n of e.players)n.details.get||(n.details=new a.default(n.details)),t.push(React.createElement(s.default,{buttons:n.buttons,name:n.name,details:n.details,number:r,key:Math.random()})),r++;return React.createElement("div",{className:"play-playerList"},t)};var s=n(e("./Player")),a=n(e("../Other/Bitfield"));function n(e){return e&&e.__esModule?e:{default:e}}},{"../Other/Bitfield":9,"./Player":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=p(e("./PlayerList")),a=p(e("./GraveyardBox")),n=p(e("./RolelistBox")),o=p(e("../Other/Commands")),i=p(e("../Other/Bitfield")),l=p(e("./Player"));function p(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,s=!1){const a=[];return t.id===r.id&&a.push({text:"YOU"}),console.log(t,r),!t.details.get(l.default.ADMIN)||r.details.get(l.default.ADMIN)||r.id===t.id||s||a.push({text:"kick",onClick:()=>o.default.run("/kick "+r.name,e)}),!t.details.get(l.default.ADMIN)&&!t.details.get(l.default.HOST)||r.id!=t.id||s||a.push({text:"start game",onClick:async()=>{if(!(await e.getRequest(`start?lobbyId=${e.player.lobbyId}&starter=${t.id}`)).res)return e.addMessage({content:"An error occured while trying to start the game",sender:"system"})}}),s&&t.role&&t.role.mafia&&t.role.mafia.some(e=>e==r.name)&&a.push({text:"MAFIA"}),a}class u extends React.Component{constructor(e){super(e),this.state={players:[],rolelist:[]},e.app.setThisPlayerAsAdmin=()=>{this.setState(e=>{const t=this.thisPlayer();t.details.update(l.default.ADMIN);for(let r of e.players)r.buttons=c(this.props.app,t,r,this.props.app.started);return e})}}componentDidMount(){this.props.app.player.on("lobbyInfo",e=>{e.phase&&(this.props.app.started=!0),this.props.app.player.name=e.yourName;const t=e.players.find(t=>t.name===e.yourName);t.details=new i.default(t.details);try{for(let r of e.players)console.log(r),r.id!==t.id&&(r.details=new i.default(r.details)),r.buttons=c(this.props.app,t,r,this.props.app.started)}catch(e){console.log(e)}this.setState({players:e.players,rolelist:e.rl})}),this.props.app.player.on("rolelistChange",e=>{this.props.app.addMessage({content:`The rolelist was changed by ${e.changedBy}!`,sender:"system"}),this.setState(t=>{const r=t.rolelist.concat();return r[Number(e.index)]=e.content,{rolelist:r}})}),this.props.app.player.on("playerTempDisconnect",e=>{this.setState(t=>{const r=t.players.find(t=>t.id===e.id);return r?(r.details.update(l.default.DISCONNECTED),t):{}})}),this.props.app.player.on("playerLeave",e=>{this.setState(t=>{const r=t.players.find(t=>t.id===e.id);if(!r)return;this.props.app.addMessage({content:r.name+" left the game!",sender:"system"});const s=t.players.findIndex(t=>t.id===e.id),a=t.players.concat();a.splice(s,1),a.forEach(e=>{e.number>s+1&&e.number--}),a[0]&&!a[0].details.get(l.default.HOST)&&a[0].details.update(l.default.HOST);const n=t.rolelist.concat();return n.splice(n.length-1,1),{players:a,rolelist:n}})}),this.props.app.player.on("playerJoin",e=>{this.setState(t=>{this.props.app.addMessage({content:e.name+" has joined the game!",sender:"system"}),e.details=new i.default(e.details),e.buttons=c(this.props.app,this.thisPlayer(),e,this.props.app.started);const r=t.players.concat();r.push(e);const s=t.rolelist.concat();return s.push("Any"),{players:r,rolelist:s}})}),this.props.app.player.on("playerReconnect",e=>{this.setState(t=>{const r=t.players.find(t=>t.id===e.id);if(r)return r.details.clear(l.default.DISCONNECTED),t})}),this.props.app.player.on("admin",e=>{this.setState(t=>{const r=t.players.find(t=>t.id===e.id);if(r)return r.details.update(l.default.ADMIN),r.buttons=c(this.props.app,this.thisPlayer(),r,this.props.app.started),t})}),this.props.app.player.on("start",e=>{this.props.app.started=!0,this.thisPlayer().role=e.role,this.props.app.player.role=e.role,this.props.app.addMessage({content:"The game has started! Your role is "+e.role.name,sender:"system"}),this.setState(e=>{const t=e.players.concat();for(let e of t)e.buttons=c(this.props.app,this.thisPlayer(),e,!0);return{players:t}})}),this.props.app.player.on("win",e=>{this.props.app.addMessage({content:e.winners+" win!"}),this.setState(e=>{const t=e.players.concat();for(let e of t)e.buttons=c(this.props.app,this.thisPlayer(),e,!1);return{players:t}})})}render(){return React.createElement(React.Fragment,null,React.createElement(s.default,{app:this.props.app,players:this.state.players.filter(e=>!e.dead)}),React.createElement(a.default,{app:this.props.app,players:this.state.players.map(e=>e.dead)}),React.createElement(n.default,{app:this.props.app,rolelist:this.state.rolelist,thisPlayer:this.thisPlayer.bind(this)}))}thisPlayer(){return this.state.players.find(e=>e.id===this.props.app.player.id)}}r.default=u},{"../Other/Bitfield":9,"../Other/Commands":10,"./GraveyardBox":3,"./Player":5,"./PlayerList":6,"./RolelistBox":8}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s,a=e("./Player"),n=(s=a)&&s.__esModule?s:{default:s};class o extends React.Component{constructor(e){super(e),this.state={value:this.props.content||""}}render(){const e=this.props.thisPlayer();return React.createElement("input",{className:"play-rolelistSlot",type:"text",disabled:!!e&&(!0!==e.details.get(n.default.ADMIN)&&!0!==e.details.get(n.default.HOST)),value:this.state.value,onChange:e=>this.setState({value:e.target.value}),onKeyUp:async e=>{if(13===e.keyCode){const t=e.target.value.replace(/\s+/g," ").trim();if(""===t)return e.target.value="Any";e.persist(),!1===(await this.props.app.getRequest(`changerl?index=${this.props.index}&content=${t}&lobbyId=${this.props.app.player.lobbyId}&setter=${this.props.app.player.id}`)).res&&(e.target.value="Any",this.props.app.addMessage({content:"This is an invalid rolelist entry.",sender:"system"})),e.preventDefault()}}})}}class i extends React.Component{constructor(e){super(e)}render(){const e=this.props.rolelist.map((e,t)=>React.createElement(o,{content:e,key:Math.random(),index:t,app:this.props.app,thisPlayer:this.props.thisPlayer}));return React.createElement("div",{className:"play-rolelistBox"},e.length&&e||"")}}r.default=i},{"./Player":5}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=class{constructor(e=0){this.bits=e}get(e){return 0!=(this.bits&1<<e)}set(e){this.bits|=e}raw(e){return this.bits&1<<e}clear(e){this.bits=this.bits&~(1<<e)}update(e){this.bits=this.bits|1<<e}}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={run:async function(e,t){const r=e.split(" "),s=r.shift();if("/admin"===s){if(!r.length)return!0;return(await t.getRequest(`pwd?password=${r[0]}&player=${t.player.id}&lobbyId=${t.player.lobbyId}`)).res?(t.addMessage({content:"You are now an admin!",sender:"system"}),t.setThisPlayerAsAdmin(),!0):t.addMessage({content:"Wrong password!",sender:"system"})}if("/kick"===s){if(!r.length)return!0;return(await t.getRequest(`kick?player=${r[0]}&kicker=${t.player.id}&lobbyId=${t.player.lobbyId}`)).res?t.addMessage({content:"Player kicked!",sender:"system"}):t.addMessage({content:"Something went wrong! You most likely entered a player that doesn't exist!",sender:"system"}),!0}if("/w"===s){if(!r.length)return!0;const e=r.shift(),s=r.join(" ");(await t.getRequest(`whisper?whisperer=${t.player.id}&receiver=${e}&lobbyId=${t.player.lobbyId}&msg=${s}`)).res?t.addMessage({content:"Player kicked!",sender:"system"}):t.addMessage({content:"Something went wrong!",sender:"system"})}return!1},cmds:["/admin","/kick","/w"]}},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";class a extends EventEmitter3{constructor(e,t){super(),this.lobbyId=t,this.name=e,this.ready=!1,sessionStorage.setItem("_room_",t),this.id=sessionStorage.getItem("_sid_"),this.id||(this.id=a.genid(),sessionStorage.setItem("_sid_",this.id)),this.socket=new WebSocket(`ws://localhost:4000?roomId=${t}&name=${e}&socketId=${this.id}`),this.socket.onopen=()=>{this.ready=!0,this.emit("ready",this),this.socket.onmessage=e=>{try{const t=JSON.parse(e.data);t.e&&this.emit(t.e,t.d)}catch(e){return}},this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>this.emit("close",e)}}send(e,t){this.socket.send(JSON.stringify({e:e,d:t}))}static genid(e=18){let t="";for(let r=0;r<e;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}}r.default=a},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=["!",">","<","^","?","-","=","|","\\","/","@","%","&","*","(",")","+",":",";","~","{","}","[","]"];class a extends React.Component{constructor(e){super(e),this.state={alts:[]},this.error=React.createRef()}componentDidMount(){this.props.app.getRequest("getDisconnectedAlts").then(e=>{if(!e.lobbies)return;const t=[];for(let r of e.lobbies)t.push(...r.alts);this.setState({alts:t})})}render(){let e;return React.createElement("div",{className:"container"},React.createElement("div",{className:"row home-center"},React.createElement("div",null,React.createElement("img",{src:"./logo.png"}),React.createElement("h1",null,"The Testing Grounds"),React.createElement("p",null,"Welcome to the Testing Grounds, where role ideas are tested in simulated gameplay. If you have any questions regarding the Testing Grounds, please view the ",React.createElement("a",{href:"https://www.blankmediagames.com/phpbb/viewtopic.php?f=50&t=72338",target:"_blank"},"FAQ"),". You can also ask questions and report bugs in our ",React.createElement("a",{href:"https://discord.com/invite/EVS55Zb",target:"_blank"},"discord server"),". Created by ",React.createElement("a",{href:"https://blankmediagames.com/phpbb/memberlist.php?mode=viewprofile&un=GoogleFeud",target:"_blank"},"GoogleFeud")," "),React.createElement("input",{type:"text",className:"home-input",placeholder:"Your name...",onInput:t=>{e=t.target.value}}),React.createElement("input",{type:"text",className:"home-name-input",disabled:!0,value:"1111"}),React.createElement("br",null),React.createElement("p",{ref:this.error,className:"home-error"}),React.createElement("button",{onClick:async t=>{if(t.persist(),e.length<=3)return this.error.current.innerHTML="Your username must be longer than 3 characters!";if(s.some(t=>e.includes(t)))return this.error.current.innerHTML=`Your name contains invalid characters! (${s.join(", ")})`;if(/\s/.test(e))return this.error.current.innerHTML="Currently, empty spaces are not allowed!";if(e.length>14)return this.error.current.innerHTML="Your name is too long!";const r=await this.props.app.getRequest("playersIn?roomId=1111");if(this.error.current){if(r.some(t=>t.toLowerCase()===e.toLowerCase()))return this.error.current.innerHTML="This username is taken!";this.props.app.joinGame(e,"1111"),this.error.current&&(t.target.disabled=!0,this.error.current.innerHTML="Please wait...")}}},"JOIN!"),this.state.alts.length?React.createElement("div",null,React.createElement("h1",null,"Or reconnect"),this.state.alts.map(e=>React.createElement("p",{className:"home-reconnectMsg",key:e.id,onClick:async()=>{this.props.app.reconnect(e.name,e.lobbyId,e.id)}},"Reconnect as ",e.name," (Room ",e.lobbyId,")"))):"")),React.createElement("div",{className:"home-center"},React.createElement("iframe",{src:"https://discordapp.com/widget?id=239404476178366465&theme=dark",width:"350",height:"500",allowtransparency:"true",frameBorder:"0"})))}}r.default=a},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=o(e("../Components/ChatBox")),a=o(e("../Components/PlayerManager")),n=o(e("../Components/Phase"));function o(e){return e&&e.__esModule?e:{default:e}}class i extends React.Component{constructor(e){super(e),e.app.player.on("kick",()=>{e.app.goto("/"),location.reload()})}render(){return React.createElement("div",null,React.createElement(a.default,{app:this.props.app}),React.createElement(s.default,{app:this.props.app}),React.createElement(n.default,{app:this.props.app}))}}r.default=i},{"../Components/ChatBox":2,"../Components/Phase":4,"../Components/PlayerManager":7}],14:[function(e,t,r){"use strict";e("regenerator-runtime");var s=o(e("./Pages/Home")),a=o(e("./Pages/Play")),n=o(e("./Other/WebSocket"));function o(e){return e&&e.__esModule?e:{default:e}}let i;const l={"/":s.default,"/play":a.default};class p extends React.Component{constructor(e){super(e);const t=this.resolveURL();this.state={url:t.path},this.player=null,this.started=!1,"/play"===t.path&&sessionStorage.getItem("_room_")&&sessionStorage.getItem("_sid_")?this.player=new n.default("unnamed",sessionStorage.getItem("_room_")):this.state.url="/",window.history.pushState({url:this.state.url},null,this.state.url),window.onpopstate=e=>{if(e.state)return this.setState({path:e.state.url})}}render(){let e=l[this.state.url]||s.default;return React.createElement("div",null,React.createElement(e,{app:this}))}resolveURL(e){const t=new URL(e||location.href,(location.hostname,"http://localhost:4000"));return{path:t.pathname,query:t.searchParams,formed:t.toString()}}goto(e){l[e]||(e=this.resolveURL(e));let t=e.path||e;return window.history.pushState({url:e.formed||e},null,e.formed||e),this.setState({url:t}),null}joinGame(e,t){this.player=new n.default(e,t),this.goto("/play")}reconnect(e,t,r){sessionStorage.setItem("_sid_",r),this.player=new n.default(e,t),this.goto("/play")}async getRequest(e){const t=await fetch("/api/"+e);return!!t.ok&&await t.json()}}window.onload=async()=>{i=document.getElementById("main"),ReactDOM.render(React.createElement(p,null),i)}},{"./Other/WebSocket":11,"./Pages/Home":12,"./Pages/Play":13,"regenerator-runtime":1}]},{},[14]);